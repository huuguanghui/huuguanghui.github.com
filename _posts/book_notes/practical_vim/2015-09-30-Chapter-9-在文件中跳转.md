---
layout: default
title: 第九章 在文件间跳转
---
# Practical Vim

## Edit Text at the Speed of Thought

# 第三部分 更快的移动和跳转

## 第九章 在文件间跳转

* 技巧55 遍历跳转列表

`&lt;Ctrl-o&gt;`命令像浏览器后退按钮一样；`&lt;Ctrl-i&gt;`命令像浏览器前进按钮。使用这两条命令，我们可以对Vim的跳转列表进行遍历。

使用`:jumps`命令可以查看跳转列表。

任何改变当前窗口中活动文件的命令，都可以被称为跳转命令。Vim会把执行跳转命令之前和之后的光标位置都记录到跳转列表中。

|命令|用途|
|----|----|
|[count]G|跳转到指定的行号|
|/pattern&lt;CR&gt;/?pattern&lt;CR&gt;/n/N | 跳转到下一个/上一个模式出现之前|
|%|跳转到匹配的括号所在之处|
|(/)|跳转到上一句/下一句的开头|
|{/}|跳转到上一段/下一段的开头|
|H/M/L|跳转到屏幕最上方/正中间/最下方|
|gf|跳转到光标下的文件名|
|&lt;Ctrl-]&gt;|跳转到光标下关键字的定义之处|
|'{mark}|\`{mark}|跳转到一个位置标记|

Vim可以同时维护多个跳转列表。实际上，每个单独的窗口都有自己的跳转列表。如果使用分割窗口或者多标签页，那么&lt;Ctrl-o&gt;和&lt;Ctrk-i&gt;命令始终会在当前活动窗口的跳转列表内进行跳转。

* 技巧56 遍历改变列表

Vim会在编辑会话期间维护一张表，里面记载着我们对每个缓冲区所做的修改，此表就是**改变列表**.

可以通过命令`:changes` 查看改变列表。

Vim为每次修改都记录了行号和列号，我们可以用`g;`和`g,`命令正向或者反向遍历改变列表。

`. 标记总是指向上次修改的位置，而 `^ 标记则会记录上次退出插入模式时光标位置。

`gi`命令会用`^标记恢复光标位置，并切换到插入模式。

Vim会为编辑会话中每个单独缓冲区维护一个改变列表，不同的是，每个窗口都有一个单独的跳转列表。jjjjjjj:49

* 技巧57 跳转到光标下的文件

Vim中会把文档中的文件名当成一个超链接。在进行了正确配置后，我们可以使用`gf`命令跳转到光标下的文件。

* 技巧58 用全局位置标记在文件间跳转

`m{letter}`命令允许我们在当前光标位置创建一个位置标记。小写字母会创建局部于缓冲区的标记，而大写字母会创建全局标记。

一般来说，要养成在使用与quickfix列表有关的命令前，如：`:grep`, `:vimgrep`, `:make`, 设置全局标记的习惯。另外，在执行与缓冲区列表或者参数列表有关的命令前，如: `:args {arglist}` 和 `argdo`，也要设置全局标记。
